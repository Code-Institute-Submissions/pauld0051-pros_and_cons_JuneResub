{% extends "base.html" %} {% block content %}

<h3 class="blue-text text-darken-3 center-align">Edit Question</h3>

<div class="row card-panel grey lighten-5">
  <form
    class="col s12"
    method="POST"
    action="{{ url_for('edit_question', question_id=question._id) }}"
  >
    <div class="row">
      <!-- Add title -->
      <div class="input-field col s12">
        <i
          class="fas fa-user-edit prefix blue-text text-darken-3 tooltipped"
          data-position="bottom"
          data-tooltip="Add a title to your question"
        ></i>
        <input
          id="question_title"
          name="question_title"
          minlength="5"
          maxlength="50"
          type="text"
          class="validate"
          value="{{ question.question_title }}"
          required
        />
        <label for="question_title">Question Title</label>
      </div>
    </div>
    <div class="row">
      <!-- Add text -->
      <div class="input-field col s12">
        <i
          class="fas fa-comment prefix blue-text text-darken-3 tooltipped"
          data-position="bottom"
          data-tooltip="Give your question a description"
        ></i>
        <textarea
          id="question_text"
          name="question_text"
          minlength="5"
          maxlength="1500"
          class="materialize-textarea validate"
          required
        >
{{- question.question_text -}}</textarea
        >
        <label for="question_text">Question Description</label>
      </div>
    </div>
    <!-- is_friends switch -->
    <div class="row">
      <div class="input-field col s12">
        <div class="switch">
          <i
            class="fas fa-exclamation-circle prefix blue-text text-darken-3 tooltipped"
            data-position="bottom"
            data-tooltip="Click so only friends can see and answer this question"
          ></i>
          <label for="is_friends">
            {% if question.is_friends == "on" %}
            <input type="checkbox" id="is_friends" name="is_friends" checked />
            {% else %}
            <input type="checkbox" id="is_friends" name="is_friends" />
            {% endif %}
            <span class="lever"></span>
            Friends only
          </label>
        </div>
      </div>
    </div>
    <div class="row">
      <!-- Submit edit button-->
      <div class="col s12 center-align">
           <!-- cancel button -->
           <a href="{{ url_for('get_questions') }}" class="btn-large red">
            Cancel <i class="fas fa-times-circle right"></i>
        </a>
        <button
          class="btn-large blue darken-3 waves-effect waves-light"
          type="submit"
        >
          Edit
          <i class="fas fa-edit right"></i>
        </button>
      </div>
    </div>
  </form>
</div>

{% endblock %}
